<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Flashcards - SQL Learning Game</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/main.css') }}">
    <script src="https://unpkg.com/lucide@latest"></script>
</head>
<body>
    <div class="container">
        {% set show_home_link = true %}
        {% include 'components/header.html' with context %}

        <main class="flashcard-page">
            <div class="page-header">
                <h2>Flashcard Mode</h2>
                <a href="/" class="btn btn-secondary"><i data-lucide="arrow-left" class="icon icon-md"></i> Back to Home</a>
            </div>

            <div class="difficulty-selector">
                <button class="difficulty-btn active" data-difficulty="basic">Basic</button>
                <button class="difficulty-btn" data-difficulty="intermediate">Intermediate</button>
                <button class="difficulty-btn" data-difficulty="advanced">Advanced</button>
                <button class="difficulty-btn" data-difficulty="expert">Expert</button>
            </div>

            <div class="flashcard-container">
                <div class="card-counter">
                    Card <span id="current-card">1</span> of <span id="total-cards">0</span>
                </div>

                <div class="flashcard" id="flashcard">
                    <div class="card-content">
                        <div id="loading-indicator" style="text-align: center; padding: 40px;">
                            <p>Loading flashcards...</p>
                            <p style="font-size: 14px; color: var(--text-secondary);">This may take a moment while we generate multiple choice options.</p>
                        </div>
                        <div class="card-topic" id="card-topic" style="display: none;"></div>
                        <div class="card-question" id="card-question" style="display: none;"></div>
                        
                        <div class="multiple-choice-options" id="multiple-choice-options" style="display: none;">
                            <!-- Options will be dynamically generated here -->
                        </div>
                        
                        <div class="card-feedback" id="card-feedback" style="display: none;">
                            <div class="feedback-message" id="feedback-message"></div>
                            <div class="card-explanation" id="card-explanation"></div>
                            <div class="card-example">
                                <h4>Example:</h4>
                                <pre><code id="card-example"></code></pre>
                            </div>
                        </div>
                    </div>
                </div>

                <div class="navigation-buttons">
                    <button class="btn btn-secondary" onclick="previousCard()" id="prev-btn"><i data-lucide="chevron-left" class="icon icon-md"></i> Previous</button>
                    <button class="btn btn-primary" onclick="nextCard()" id="next-btn" disabled>Next <i data-lucide="chevron-right" class="icon icon-md"></i></button>
                </div>
            </div>

            <div class="progress-info">
                <h3>Your Progress</h3>
                <div id="difficulty-progress"></div>
            </div>
        </main>

        {% set footer_text = 'Keep practicing to master SQL!' %}
        {% include 'components/footer.html' with context %}
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
    <script src="{{ url_for('static', filename='js/api/progress.js') }}"></script>
    <script src="{{ url_for('static', filename='js/api/flashcards.js') }}"></script>
    <script src="{{ url_for('static', filename='js/components/stats.js') }}"></script>
    <script src="{{ url_for('static', filename='js/pages/flashcards/flashcard-state.js') }}"></script>
    <script src="{{ url_for('static', filename='js/pages/flashcards/progress-tracker.js') }}"></script>
    <script src="{{ url_for('static', filename='js/pages/flashcards/flashcard-display.js') }}"></script>
    <script src="{{ url_for('static', filename='js/pages/flashcards/flashcard-manager.js') }}"></script>
    <script>
        // Initialize
        FlashcardManager.load();
        lucide.createIcons();
    </script>
</body>
</html>
